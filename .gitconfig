[user]
	email = LucasLarson@riseup.net
	name = Lucas Larson

	# signingKey
	# use `git config --system user.signingKey 𝑥`

[core]
	# macOS and Linux only per
	# https://wildlyinaccurate.com/useful-git-configuration-items/#prevent-line-ending-issues
	autocrlf = input

	# editor set conditionally
	# https://stackoverflow.com/a/14755066
	editor = "if which nvim > /dev/null; then export EDITOR='nvim'; elif which vim > /dev/null; then export EDITOR='vim'; elif which vi > /dev/null; then export EDITOR='vi'; else export EDITOR='nano'; fi; $EDITOR"

	excludesfile = ~/.gitignore_global

	# aggressive but slow repo compression via
	# https://stackoverflow.com/a/28156806 and
	# https://git-scm.com/docs/git-config/2.25.1#Documentation/git-config.txt-corecompression
	compression = 9
	looseCompression = 9

	ignoreCase = false

	# ensure Unicode filenames aren’t mangled by HFS via
	# https://chromium.googlesource.com/chromium/src/+/11eee6b8a94a04b1a2741d96dd27a25caf00a8fe/docs/mac_build_instructions.md#get-the-code
	precomposeUnicode = true

	# better diffs via the guy from whom I learned to alias `apm-beta`
	# https://github.com/jeefberkey/dotfiles/blob/b3513ad3966ef0d881662a18306bfed19796036f/.gitconfig#L11
	pager = diff-so-fancy | less --tabs=4 -RFX

[color]
	# changed from auto to true in 2020-04
	# https://commondatastorage.googleapis.com/chrome-infra-docs/flat/depot_tools/docs/html/depot_tools_tutorial.html#_bootstrapping_configuration
	ui = true

[color "diff-highlight"]
	oldNormal = red bold
	oldHighlight = red bold 52
	newNormal = green bold
	newHighlight = green bold 22

[color "diff"]
	meta = 11
	frag = magenta bold
	commit = yellow bold
	old = red bold
	new = green bold
	whitespace = red reverse

[diff-so-fancy]
	stripLeadingSymbols = false

[commit]
	gpgsign = true

[credential]
	# https://stackoverflow.com/a/59278535
	helper = "!f() { if [ \"$(uname -s)\" = Linux ]; then git credential-cache --timeout 3600 \"$@\"; else git credential-osxkeychain \"$@\"; fi; };f"

[diff "plist"]
	# permit 𝚐𝚒𝚝 𝚍𝚒𝚏𝚏 even in binary 𝚙𝚕𝚒𝚜𝚝s via
	# https://www.programming-books.io/essential/git/diff-utf-16-encoded-text-and-binary-plist-files-b4b8d7c85497429ea2c7a18cca6a1c53
	textconv = plutil -convert xml1 -o -

[diff "utf16"]
	# macOS strings files via
	# https://www.programming-books.io/essential/git/diff-utf-16-encoded-text-and-binary-plist-files-b4b8d7c85497429ea2c7a18cca6a1c53
	textconv = "iconv -f utf-16 -t utf-8"

[gpg]
	# `gpg2` aliases to `gpg`
	program = gpg

[init]
	defaultBranch = main

[mergetool]
	keepBackup = true

[pack]
	# slow, aggressive compression via
	# https://git-scm.com/docs/git-config/2.25.1#Documentation/git-config.txt-corecompression
	compression = 9

[pull]
	rebase = true

[rerere]
	# Git remembers your partial merge choices and replays them next time
	# via https://stackoverflow.com/a/28156806
	autoUpdate = true
	enabled = true

[tag]
	forceSignAnnotated = true
